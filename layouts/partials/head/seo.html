{{ if eq .Kind "404" }}
  <meta name="robots" content="noindex, follow" />
{{ else }}
  {{ with .Params.robots }}
    <meta name="robots" content="{{ . }}" />
  {{ else }}
    <meta
      name="robots"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
  {{ end }}
{{ end }}

<!-- SEO Variables -->
{{ $title := .Title | default .Site.Title }}
{{ $description := .Description | default .Site.Params.Description }}
{{ $image := .Params.image | default .Site.Params.AvatarURL }}
{{ $siteKeywords := .Site.Params.MetaKeywords | default (slice) }}
{{ $postKeywords := .Params.tags | default (slice) }}
{{ $keywords := union $siteKeywords $postKeywords }}
{{ $themeColor := .Site.Params.themeColor }}

<!-- SEO titles & descriptions -->
<title>{{ $title }}</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta property="og:site_name" content="{{ $title }}">
<meta name="description" content="{{ $description }}">
<meta name="keywords" content='{{ delimit $keywords ", "}}'>
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
<meta name="theme-color" content="{{ $themeColor }}">

<meta property="og:url" content="{{ .Permalink }}">
<meta property="og:type" content="website">
<meta property="og:title" content="{{ $title }}">
<meta property="og:description" content="{{ $description }}">
<meta property="og:image" content="{{ $image }}">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ $title }}">
<meta name="twitter:description" content="{{ $description }}">
<meta property="twitter:domain" content="{{ .Permalink }}">
<meta property="twitter:url" content="{{ .Permalink }}">
<meta name="twitter:image" content="{{ $image }}">


{{ if .IsHome }}
  {{ $title = .Site.Title }}
  {{ with .Site.Params.Subtitle }}
    {{ $title = printf "%s â€” %s" $title . }}
  {{ end }}
{{ end }}
<title>{{ $title }}</title>

<meta
  name="description"
  content="
  {{- with .Description -}}
    {{- . -}}
  {{- else -}}
    {{- with .Summary | plainify -}}
      {{- . -}}
    {{- else -}}
      {{- .Site.Params.description -}}
    {{- end -}}
  {{- end -}}"
/>

<link rel="canonical" href="{{ .Permalink }}" />

<!-- Internal Hugo templates -->
<!-- See https://gohugo.io/templates/internal -->
{{ template "_internal/twitter_cards.html" . }}
{{ template "_internal/opengraph.html" . }}
{{ template "_internal/schema.html" . }}


<!-- RSS feed -->
<!-- See https://gohugo.io/templates/rss/#reference-your-rss-feed-in-head -->
{{ range .AlternativeOutputFormats }}
  <link
    rel="{{ .Rel }}"
    type="{{ .MediaType.Type }}"
    href="{{ .RelPermalink }}"
    title="{{ $.Site.Title }}"
  />
{{ end }}
