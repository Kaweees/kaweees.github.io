<head>
  <style>
    :root {
      --accent-color: {{ .Site.Params.AccentColor | default "#FF4D4D" }};
    }
  </style>

  {{ $title := .Title | default .Site.Title }}
  {{ $description := .Description | default .Site.Params.Description }}
  {{ $image := .Params.image | default .Site.Params.AvatarURL }}
  {{ $siteKeywords := .Site.Params.MetaKeywords | default (slice) }}
  {{ $postKeywords := .Params.tags | default (slice) }}
  {{ $keywords := union $siteKeywords $postKeywords }}
  {{ $themeColor := .Site.Params.themeColor }}

  <!-- SEO titles & descriptions -->
  <title>{{ $title }}</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta property="og:site_name" content="{{ $title }}">
  <meta name="description" content="{{ $description }}">
  <meta name="keywords" content='{{ delimit $keywords ", "}}'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <meta name="theme-color" content="{{ $themeColor }}">

  <meta property="og:url" content="{{ .Permalink }}">
  <meta property="og:type" content="website">
  <meta property="og:title" content="{{ $title }}">
  <meta property="og:description" content="{{ $description }}">
  <meta property="og:image" content="{{ $image }}">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ $title }}">
  <meta name="twitter:description" content="{{ $description }}">
  <meta property="twitter:domain" content="{{ .Permalink }}">
  <meta property="twitter:url" content="{{ .Permalink }}">
  <meta name="twitter:image" content="{{ $image }}">

  <!-- SEO canonicals: helps Google understand your site better when using marketing campaign tagging etc -->
  <link rel="canonical" href="{{ .Permalink }}" />

  <link rel="stylesheet" type="text/css" href="{{ .Site.BaseURL }}css/loader.css">
  <link rel="stylesheet" type="text/css" href="{{ .Site.BaseURL }}css/load-spinner.css">
  <link rel="stylesheet" type="text/css" href="{{ .Site.BaseURL }}css/main.css">
  <link rel="stylesheet" type="text/css" href="{{ .Site.BaseURL }}css/navbar.css">
  <link disabled id="dark-theme" rel="stylesheet" href="{{ .Site.BaseURL }}css/dark.css">
  <link rel="stylesheet" type="text/css" href="{{ .Site.BaseURL }}css/normalize.min.css" media="print" onload="this.media='all'">

  {{ if .IsHome }}
  <link rel="stylesheet" type="text/css" href="{{ .Site.BaseURL }}css/rotate.css">
  <link rel="stylesheet" type="text/css" href="{{ .Site.BaseURL }}css/index.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">
  {{ end }}
  
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>

  <!-- Typed.js -  JavaScript Typing Animation Library -->
  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>

  <script src="{{ .Site.BaseURL }}js/svg-injector.min.js"></script>
  <script src="{{ .Site.BaseURL }}js/feather-icons.min.js"></script>
  <script src="{{ .Site.BaseURL }}js/main.js"></script>

  <!-- Custom JS -->
  <script	src="{{ .Site.BaseURL }}js/load-site.js"></script>

  <!-- KaTeX -->

  {{ if eq .Type "post" }}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js" integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        // customised options
        // • auto-render specific keys, e.g.:
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
        // • rendering keys, e.g.:
        throwOnError : false
      });
    });
  </script>
  {{ end }}

  <!-- Option for user to inject custom html -->
  {{ if .Site.Params.CustomHeadHTML }}
  {{ .Site.Params.CustomHeadHTML | safeHTML }}
  {{ end }}
</head>
